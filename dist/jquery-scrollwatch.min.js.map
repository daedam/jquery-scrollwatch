{"version":3,"sources":["jquery-scrollwatch.js"],"names":["$","location","pos","length","match","direction","isHorizontal","a","b","c","getClass","opts","nameNoPrefix","name","dir","axis","r","push","join","classPrefix","unshift","isPlainObject","classOverrides","allClasses","i","j","getPosition","rect","h","dim","size","window","document","documentElement","lower","upper","track","$element","options","obj","classes","tracked","forget","splice","plugInName","defaults","vertical","horizontal","addClasses","targetForClasses","fn","extend","this","each","$me","instance","data","on","proxy","removeData","e","index","value","elt","$classTarget","classNames","updated","getBoundingClientRect","posY","removeClass","addClass","trigger","jQuery"],"mappings":"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","file":"jquery-scrollwatch.min.js","sourcesContent":["/*!\r\n * jQuery scrollwatch 0.1.0\r\n * https://github.com/daedam/jquery-scrollwatch\r\n *\r\n * Copyright (c) 2016 Adam Hall\r\n *\r\n * Released under the MIT license:\r\n * https://github.com/daedam/jquery-scrollwatch/blob/master/LICENSE\r\n */\r\n(function ($) {\r\n    var plugInName = 'scrollwatch',\r\n        defaults = {\r\n            vertical: true,\r\n            horizontal: false,\r\n            addClasses: true,\r\n            targetForClasses: null, // null for same element, or selector\r\n            classPrefix: 'sw',\r\n            classOverrides: {}\r\n        },\r\n        tracked = [];\r\n\r\n    function location(pos) {\r\n        if (pos.length < 2) return 'off';\r\n        if (pos.match(/[<>]/)) return 'partial';\r\n        if (pos.length > 2) return 'overflow';\r\n        return 'on';\r\n    }\r\n\r\n    function direction(pos, isHorizontal) {\r\n        var a = [['top', 'bottom'], ['left', 'right']],\r\n            b = isHorizontal ? 1 : 0,\r\n            c = pos.match(/^</) ? 0 : (pos.match(/>$/) ? 1 : 2);\r\n        return a[b][c] || '';\r\n    }\r\n\r\n    function getClass(pos, isHorizontal, opts) {\r\n        var dir = direction(pos),\r\n            axis = pos.match(/[<>]/) ? '' : (isHorizontal ? 'horizontal' : 'vertical'),\r\n            r = [location(pos)],\r\n            nameNoPrefix, name, override;\r\n        if (dir) r.push(dir);\r\n        if (axis) r.push(axis);\r\n        nameNoPrefix = r.join('-');\r\n        if (opts.classPrefix) r.unshift(opts.classPrefix);\r\n        name = r.join('-');\r\n        if ($.isPlainObject(opts.classOverrides)) {\r\n            name = opts.classOverrides[name] || opts.classOverrides[nameNoPrefix] || name;\r\n        }\r\n        return name;\r\n    }\r\n\r\n    function allClasses(opts) {\r\n        var a = ['<', '>', '---', '<-', '->', '--'], c = [], i, j;\r\n        for (i = 0; i <= 1; i++) {\r\n            for (j = 0; j < a.length; j++) {\r\n                c.push(getClass(a[j], i, opts));\r\n            }\r\n        }\r\n        return c.join(' ');\r\n    }\r\n\r\n    function getPosition(rect, isHorizontal) {\r\n        var h = isHorizontal,\r\n            dim = h ? 'Width' : 'Height',\r\n            size = window['inner' + dim] || document.documentElement['client' + dim],\r\n            lower = rect[direction('<', h)],\r\n            upper = rect[direction('>', h)];\r\n        if (upper <= 0) return '<';\r\n        if (lower >= size) return '>';\r\n        if (lower < 0 && upper > size) return '---';\r\n        if (lower < 0 && upper >= 0) return '<-';\r\n        if (upper > size && lower < size) return '->';\r\n        return '--';\r\n    }\r\n\r\n    function track($element, options) {\r\n        var obj = { $element: $element, options: options, classes: allClasses(options) };\r\n        tracked.push(obj);\r\n        return obj;\r\n    }\r\n\r\n    function forget(obj) {\r\n        var i;\r\n        for (i = 0; i < tracked.length; i++) {\r\n            if (tracked[i] === obj) {\r\n                tracked.splice(i, 1);\r\n                obj.$element = null;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    // Set up jQuery plug-in\r\n    $.fn[plugInName] = function(options) {\r\n        options = $.extend({}, $.fn[plugInName].defaults, options);\r\n        this.each(function () {\r\n            var $me = $(this),\r\n                instance = $.data(this, plugInName);\r\n            if (instance) {\r\n                instance.options = options;\r\n            } else {\r\n                $.data(this, plugInName, track($me, options));\r\n                $me.on('remove', $.proxy(function () {\r\n                    $.removeData(this, plugInName);\r\n                    forget(instance);\r\n                }, this));\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n\r\n    // Set plug-in defaults\r\n    $.fn[plugInName].defaults = defaults;\r\n\r\n    // Monitor window events\r\n    $(window).on('DOMContentLoaded load resize scroll', function(e) {\r\n        $.each(tracked, function(index, value) {\r\n            var $me = value.$element,\r\n                opts = value.options,\r\n                elt = $me[0],\r\n                $classTarget = opts.targetForClasses ? $(targetForClasses) : $me,\r\n                classNames = [],\r\n                updated = 0,\r\n                pos;\r\n\r\n            if (elt) {\r\n                // pull the element from the jQuery object, get its bounding rectangle\r\n                rect = elt.getBoundingClientRect();\r\n                if (opts.vertical) {\r\n                    pos = getPosition(rect, 0);\r\n                    updated += pos !== value.posY ? 1 : 0;\r\n                    value.posY = pos;\r\n                    classNames.push(getClass(pos, 0, opts));\r\n                }\r\n                if (opts.horizontal) {\r\n                    pos = getPosition(rect, 1);\r\n                    updated += pos !== value.posY ? 1 : 0;\r\n                    value.posY = pos;\r\n                    classNames.push(getClass(pos, 1, opts));\r\n                }\r\n                if (updated > 0) {\r\n                    if (opts.addClasses) {\r\n                        $classTarget\r\n                            .removeClass(value.classes)\r\n                            .addClass(classNames.join(' '));\r\n                        $me.trigger(plugInName + '.change', e);\r\n                    }\r\n                    return false;\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n}(window.jQuery));\r\n"],"sourceRoot":"/source/"}